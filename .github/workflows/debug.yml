---

name: Debug Workflow Run

on:
  pull_request:
  workflow_dispatch:

jobs:
  debug:
    name: "Debug Workflow Run"
    runs-on: ubuntu-latest
    steps:
      - name: "Debug ${{ format('{0}{1}{1} {2} {3}{3}', '$', '{', 'github', '}') }} context"
        run: echo "${GITHUB_CONTEXT}"
        env:
          GITHUB_CONTEXT: ${{ toJSON(github) }}

      - name: "Test case sensitivity of string comparison"
        if: ${{ 'FOO' == 'foo' }}
        run: echo "Github Actions are case-insensitive"

      - name: "Test dot character in step id"
        id: a.b
        run: echo "c=foo" >> "${GITHUB_OUTPUT}"

      - name: "Test dot character in step output"
        id: d
        run: echo "e=bar" >> "${GITHUB_OUTPUT}"

      - name: "Debug ${{ format('{0}{1}{1} {2} {3}{3}', '$', '{', 'steps', '}') }} context"
        run: echo "${STEPS_CONTEXT}"
        env:
          STEPS_CONTEXT: ${{ toJSON(steps) }}
